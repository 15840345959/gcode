<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>layuiAdmin std - 通用后台管理模板系统（iframe标准版）</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="../layuiadmin/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="../layuiadmin/style/admin.css" media="all">

    <script>
        /^http(s*):\/\//.test(location.href) || alert('请先部署到 localhost 下再访问');
    </script>
</head>
<body class="layui-layout-body">

<div class="layui-carousel" id="test1">
    <div id="carousel-content" carousel-item>

    </div>
    <script id="carousel-content-template" type="text/x-dot-template">
        {{for(var i=0;i
        <it.length ;i++){}}
        <div>
            <div style="position: relative;">
                <img src="{{=it[i]}}">
                <img src="./img/delete_btn.png"
                     style="position: absolute;top: 20px;right: 20px;z-index: 100;width: 30px;height: 30px;"
                     onclick="deleteCarousel({{=i}})">
            </div>

        </div>
        {{}}}
    </script>
</div>

<!-- 条目中可以是任意内容，如：<img src=""> -->


<script src="../layuiadmin/layui/layui.js"></script>
<script src="./img/doT.min.js"></script>
<script src="./img/jquery.min.js"></script>

<script>


    var img_arr = ['./img/timg.jpg', './img/timg.jpg', './img/timg.jpg', './img/timg.jpg', './img/timg.jpg', './img/timg.jpg', './img/timg.jpg'];
    var img_arr = ['./img/timg.jpg'];
    var interText = doT.template($("#carousel-content-template").text());
    $("#carousel-content").html(interText(img_arr));


    function deleteCarousel(index) {
        img_arr.splice(index, 1);
        console.log("img_arr:" + JSON.stringify(img_arr));
        var interText = doT.template($("#carousel-content-template").text());
        $("#carousel-content").html(interText(img_arr));
        ins_carousel.reload(option);
    }

    var carousel = null;
    var option = {
        elem: '#test1'
        , width: '650' //设置容器宽度
        , height: '300' //设置容器高度
        , arrow: 'always' //始终显示箭头
        //,anim: 'updown' //切换动画方式
    };
    var ins_carousel = null;

    layui.use('carousel', function () {
        carousel = layui.carousel;
        //建造实例
        ins_carousel = carousel.render(option);
    });

</script>
</body>
</html>


